TODO:
    -Dungeons:
        -debug border placement
        -place doors intelligently
            -For each door,
            -Roll dice to figure out whether to give the door a special weighting or not
            -if not special weighting, weight the door according to the depth it was reached at
            -ensure that all player rooms are connected in a cycle and there are lots of doors into the boss room
                -probably treat center including player rooms as a huge node and run a separate algorithm for everything inside it
        -add required rooms
            -Function for converting a room into a given special type of room
            -Function for replacing wall/door with another thing
            -Two secret rooms + chance of more
                -should replace two lowest-area rooms
            -One dumbwaiter
            +Boss chamber in the center
                -Special doors with special weights
            -Ultra Boss Chamber
            -One Treasure Room per player
                -Special doors
            -One external global grid room + chance of more
        -place loot intelligently (probably kinda hard)
            -Function in Words for getting all words player could have made in a particular state of the game (?)
                -Really just a special case of GetScoreExact
            -higher frequency letters get longer lifespans
            -throw in a few letter tiles not in the source word at the extremities of the level
            -One duplicator per player
            -One dumbwaiter
            -Treasure room stuff
        -Possible optimization for fog of war objects : rescale them to fill the largest possible rectangle instead of just having a bunch of square ones (it would require fewer objects)
            -cool idea but too much code and I like the current aesthetic
            -remember this if performance suffers later
        -Minimap
        -adjust weights on doors according to loot
            -for each room that contains loot, bump up the door weightings by a bit
            -Add list of door objects to the room class
                -Maybe list of wall objects as well
            -Function in room for replacing a door with a special door or a wall
    -Game meta:
        -Title screen with options for:
            -player joining
            -seed
        -make game interface adapt to num players
            -"press A to join!"
        -ugh





 ----------
|Design Doc|
 ----------





Concept: Scrabble but a local multiplayer cooperative/competitive dungeon crawler. Letter tiles are physical objects that players have to discover and carry back to a room with a Scrabble board.
Players race other players to make as many words as possible in as short a time as possible.

Basic Gameplay: 2.5D Top Down, Played using controllers exclusively

Behind the locked doors are

-more locked doors
-letter tiles
-neutral grids. They can be claimed using flags
-puzzles
    -doors locked by things other than keys
        -riddle/tiny grid to make the answer on.
        -opened by placing a particular letter tile on a slot next to the door
        -secret rooms: each secret room has a special 5-character password which is not an English word. Making this word on any grid will open the room.
-word tiles: tiles that stand for more than one letter
    -fuser machine which has a 1x7 non-claimable grid next to it
    -words made on that grid will fuse into a word tile, which counts as that whole word
    -the lifespan of the new tile is the maximum of the letter/word tiles used to form it
        -with the exception of infinite tiles, which give it a lifespan of 15
    -for the purposes of scoring, a word tile contributes the number of letters in the word
    -scatter 2- and 3-letter word tiles around as loot
-secret rooms
    -put rare loot inside tiny rooms
    -generate a non-word passphrase which removes that room's walls
        -except for walls on the border of the world
    -entering the passphrase on a grid unlocks the walls
    -scatter word tiles with passphrases written on them as loot
-hints about various things in the level, on little scraps of paper
    -passwords to open secret rooms
    -set of letters that will be used next level
    -words on the current level nobody has made yet (or maybe definitions of them, as hints)
-movement modifiers: Moving around quickly is a focus of the game, however. All kinds of crazy items for optimizing movement efficiency are present.
    -walking speed buffs
    -temporary stacking walking speed buffs (like Skooma)
    -Making a word longer than four letters gives you substantial walking speed boosts (like 5 seconds for each letter longer than 4)
        -This is to compensate for smaller words being more tile-efficient
    -slime: walk faster anywhere you've walked before, slower everywhere else
    -grappling hook: shoot at a wall and you will get dragged to the point on the wall the hook hits real fast. You can do that swing around thing like in all those grappling hook platformers.
    -teleporter remote: see Teleporter
    -blink: a local teleporter just like the one in Spelunky. Can teleport you through walls but only into rooms you would normally be able to access and secret rooms (you are limited by your number of keys)
    -dash: A dash like the one in Hyper Light Drifter.
    -Item that reduces cooldown on any of these that are activated (blink, grappling hook, etc)
-misc. reusable items
    -Word Tiles: tiles which stand for an entire word. Normally have a higher lifespan than their constituent tiles.
    -Tile Freeze: used on a tile placed on a grid, freezing it in its place. Has a cooldown of 30 seconds.
    -Tile Unfreeze: used on a tile placed on a grid, negating the effect of a Tile Freeze. Has a cooldown of 15 seconds.
    -Minimap Watch: Reveals a minimap of the player's surrounding rooms (not present by default)
    -Perfectionist Watch: Reveals the maximum number of words possible to make on the current floor.
    -Robo Arms: Strong mech arms which allow a player to pick up and carry machines. While carrying a machine, the player can only move by walking and is slowed a bit.
    -Wrench: allows machines to be converted into other machine types. Players activate the wrench standing next to a machine, then pick a machine they want to convert it to. 
     They must then stand continuously in the immediate vicinity of the machine for a little while (about 20 sec) before the machine finishes
    -Privacy Watch: holding this in your inventory will hide your inventory HUD, preventing others from figuring out your plans just by screenpeeking your inventory (and preventing you from seeing it too)
-misc. consumables
    -Poison Vial: thrown at a player or enemy, dealing 0 damage and knocking the player/enemy out cold for 10 seconds
    -Tile Heal: Used on a tile, healing it to its full health.
    -Shield Potion: Creates a shield which lasts 20 seconds. During that time the player cannot be bonked.
    -Barrier: Used on a doorway. Prevents anybody from going through that doorway for 2 minutes.
    -Lockpick: Used on a door. Decreases the key barrier for that door by 1. Cannot be used on the boss door or ultra boss door.
    -Portable Grid: Placed on the floor. Expands into a 5x5 global grid which lasts 5 minutes
-stationary machines which do various things
    +Duplicator: has a slot where you can put a letter tile. Leaving it there for one minute will create a fresh duplicate of it.
    +Deleter: has a slot where you can put a letter tile. Leaving it there for one minute will delete it.
    +Oracle: has a slot where you can put a letter tile. Leaving it there for one minute will delete it and it will spit out a piece of paper with a previously uncreated valid word on it.
        -change print to create piece of paper object
    -Fuser: has two slots where you can put letter tile. If both are filled, the two tiles will be fused after one minute into a word tile holding the concatenation of the two.
    -Altar: has a slot where you can put a letter tile. Leaving it there for one minute will delete it and unlock a random currently locked door for all players.
    -Generator: Has a button which, when pushed, immediately completes all cooldowns of all other machines (including other Generators). Has a cooldown of one minute.
        This creates a kind of exploit thing with 2 generators, a duplicator and an altar. 2 Generators can recharge each other and allow all devices to be used arbitrarily frequently. If these devices include a duplicator and an altar relatively close to each other, players can repeatedly unlock random doors until all doors in the level have been unlocked.
    -Evil Red Button: A button which, when pressed, immediately freezes all tiles on all grids in place (just like the Tile Freeze device). Pressing it again immediately unfreezes all tiles. Has no cooldown, but each player can only press it twice.
    -Teleporter: Comes with the teleporter remote item. When the player with the teleporter remote activates it, they will get teleported to the Teleporter. Cooldown of one minute.
    -Dumbwaiter: Used to send letter tiles to lower levels and retrieve them from higher levels. There is at least one per floor (exactly one, plus maybe one in a secret room), and it can only be used once per floor. Placing a letter tile on its slot will send the tile down to the next floor. If the dumbwaiter on the next floor is reached, the slot will initially contain that tile.


random ideas for maybe optional mechanics
-setting: words can only be made once. toggle on/off on menu. 
When on, first team to make a word claims the points for that word and nobody else can make it for points.
-magic words: In addition to lifespan, letter tiles also have another number associated with them called *magic* which ranges from 0-3.
A certain list of words is designated as "magic words". 
If constructed on a board using letter tiles with enough total magic, a magic word will trigger its effect, 
consuming magic from the tiles and causing some in game consequence.
Each team can trigger each magic word only once, just like the rules for claiming points from making a word.
    -the typical example I'm imagining is making the word "grapple" or "hook" and a grappling hook being summoned next to the grid,
    and similar trigger words for summoning other items.
        -"sword" will summon a sword
        -"tile" will summon a random letter tile
    -all kinds of easter eggs can be fit in here. "portal" summons a portal gun and that kind of stuff
    -specifically,in order for a magic word to fire, the sum of magic over all letter tiles in the word must be
    at least the magic cost, which is simply the number of letters in the word.
        -Magic points are deducted round robin over any tiles which have magic points, 
        until the magic cost is reached.
    -tiles will now only expire when they have no lifespan and no magic score left.
        -tiles with no lifespan but some magic score can still be used to form magic words, but not to score words normally.
    -machine to add 1 point of magic to letter tile
    -plurals can sometimes be used to get a bonus effect
        -"secret" will unlock a random locked secret room
        -"secrets" will unlock all locked secret rooms
    -magic words may be phrases which require each word in the phrase be made on the board simultaneously using the magic rules
        -"magic board" and "magic grid" will turn the grid into a magic grid, which means all tiles on it have infinite magic score.
    -design role
        -learning the magic words and their effects constitutes deep situational knowledge that will give a team an edge.
            -However, this makes the game less accessible to newcomers. So make it a toggle in the menu that is off by default.
        -team wordsmith can do something useful for team explorer besides just make enough words to unlock doors
        -team wordsmith gets a chance to interact with game mechanics knowledge and not just pure word knowledge
-starting board should be smaller than 7x7. This will give players more of a reason to care about external boards
    -5x5 starting boards
    -most external boards will be either 4x4 or 7x7; 
    the 4x4 ones are good mostly for strategic position, the 7x7 ones are potential base relocations.
    -shovel item commonly found in secret rooms allows digging up single grid spaces,
    which can then be transferred between grids to extend them.
    -starting boards are still not claimable.
-consumable item which destroys a single segment of wall.
-win condition select
    -first to x points wins - x = 10,25,40,50,80,100,150,200,all words
    -most points in t minutes wins - t = multiples of 5 minutes, 5 through 90
    -escape - first to escape the arena wins. The conditions for escaping are discovered by the players during the match.  
    -last man standing - words only serve to open doors, the true objective is to kill the other teams.
-maps - several basic shapes for team starting positions
    -square, start slightly NESW of center.
    -square, start extreme NESW of center at midpoints of sides.
    -diamond, start at extreme NESW of center in corners of diamond.
    -donut, start at equal angles around donut.
    -rectangle, start evenly spaced along bottom of board.
    -islands of rooms with long hallways between them, start on some islands